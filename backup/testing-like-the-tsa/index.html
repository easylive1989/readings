<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Testing Like the TSA | Readings</title>
<meta name=keywords content="Uncle Bob"><meta name=description content="Source
I was very glad to read in DHH’s recent post that he is actually still using TDD***. I’m glad he has realized that TDD is not, in fact, dead.
我很高興在 DHH 最近的文章中讀到他實際上仍在使用 TDD***。我很高興他意識到 TDD 實際上並沒有死亡。
This blog is a simple response; just to state a couple of disagreements. But I have to say, I agree more than I disagree.
這篇部落格只是一個簡單的回應；只是為了說明幾個不同意的地方。但我必須說，我同意的地方比不同意的地方還多。
DHH presented seven points. I have reproduced them below, along with my comments. And since DHH did not justify his opinions, I’ll not justify mine."><meta name=author content><link rel=canonical href=https://easylive1989.github.io/readings/backup/testing-like-the-tsa/><link crossorigin=anonymous href=/readings/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://easylive1989.github.io/readings/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://easylive1989.github.io/readings/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://easylive1989.github.io/readings/favicon-32x32.png><link rel=apple-touch-icon href=https://easylive1989.github.io/readings/apple-touch-icon.png><link rel=mask-icon href=https://easylive1989.github.io/readings/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://easylive1989.github.io/readings/backup/testing-like-the-tsa/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://easylive1989.github.io/readings/backup/testing-like-the-tsa/"><meta property="og:site_name" content="Readings"><meta property="og:title" content="Testing Like the TSA"><meta property="og:description" content="Source
I was very glad to read in DHH’s recent post that he is actually still using TDD***. I’m glad he has realized that TDD is not, in fact, dead.
我很高興在 DHH 最近的文章中讀到他實際上仍在使用 TDD***。我很高興他意識到 TDD 實際上並沒有死亡。
This blog is a simple response; just to state a couple of disagreements. But I have to say, I agree more than I disagree.
這篇部落格只是一個簡單的回應；只是為了說明幾個不同意的地方。但我必須說，我同意的地方比不同意的地方還多。
DHH presented seven points. I have reproduced them below, along with my comments. And since DHH did not justify his opinions, I’ll not justify mine."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="backup"><meta property="article:published_time" content="2025-03-13T23:57:10+08:00"><meta property="article:modified_time" content="2025-03-13T23:57:10+08:00"><meta property="article:tag" content="Uncle Bob"><meta name=twitter:card content="summary"><meta name=twitter:title content="Testing Like the TSA"><meta name=twitter:description content="Source
I was very glad to read in DHH’s recent post that he is actually still using TDD***. I’m glad he has realized that TDD is not, in fact, dead.
我很高興在 DHH 最近的文章中讀到他實際上仍在使用 TDD***。我很高興他意識到 TDD 實際上並沒有死亡。
This blog is a simple response; just to state a couple of disagreements. But I have to say, I agree more than I disagree.
這篇部落格只是一個簡單的回應；只是為了說明幾個不同意的地方。但我必須說，我同意的地方比不同意的地方還多。
DHH presented seven points. I have reproduced them below, along with my comments. And since DHH did not justify his opinions, I’ll not justify mine."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Backups","item":"https://easylive1989.github.io/readings/backup/"},{"@type":"ListItem","position":2,"name":"Testing Like the TSA","item":"https://easylive1989.github.io/readings/backup/testing-like-the-tsa/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Testing Like the TSA","name":"Testing Like the TSA","description":"Source\nI was very glad to read in DHH’s recent post that he is actually still using TDD***. I’m glad he has realized that TDD is not, in fact, dead.\n我很高興在 DHH 最近的文章中讀到他實際上仍在使用 TDD***。我很高興他意識到 TDD 實際上並沒有死亡。\nThis blog is a simple response; just to state a couple of disagreements. But I have to say, I agree more than I disagree.\n這篇部落格只是一個簡單的回應；只是為了說明幾個不同意的地方。但我必須說，我同意的地方比不同意的地方還多。\nDHH presented seven points. I have reproduced them below, along with my comments. And since DHH did not justify his opinions, I’ll not justify mine.\n","keywords":["Uncle Bob"],"articleBody":"Source\nI was very glad to read in DHH’s recent post that he is actually still using TDD***. I’m glad he has realized that TDD is not, in fact, dead.\n我很高興在 DHH 最近的文章中讀到他實際上仍在使用 TDD***。我很高興他意識到 TDD 實際上並沒有死亡。\nThis blog is a simple response; just to state a couple of disagreements. But I have to say, I agree more than I disagree.\n這篇部落格只是一個簡單的回應；只是為了說明幾個不同意的地方。但我必須說，我同意的地方比不同意的地方還多。\nDHH presented seven points. I have reproduced them below, along with my comments. And since DHH did not justify his opinions, I’ll not justify mine.\nDHH 提出了七點。我將它們複製如下，以及我的評論。由於 DHH 沒有為他的觀點辯護，我也不會為我的辯護。\n(1. Don’t aim for 100% coverage. 不要以 100% 的覆蓋率為目標。 Disagree. Aim as high as you can. Treat 100% as an asymptotic goal. No other number makes a reasonable goal. There is never a reason to stop driving your coverage number higher. 不同意。盡可能地以高為目標。將 100% 視為一個漸近線目標。沒有其他數字可以成為合理的目標。永遠沒有理由停止提高你的覆蓋率數字。\n(2. Code-to-test ratios above 1:2 is a smell, above 1:3 is a stink. 程式碼與測試的比率高於 1:2 是一種氣味，高於 1:3 是一種惡臭。 Disagree. 1:1 LOC is about right. If you have 20K lines of code, you probably ought to have about 20K lines of tests. (BTW, I can’t make any sense of DHH’s ratios there. I think he meant the first one the other way around (2:1) and I think he meant the second one to be (1.5:1). Or maybe I’m just dense. 不同意。 1:1 LOC 差不多是對的。如果你有 2 萬行程式碼，你可能應該有大約 2 萬行測試。（順便說一下，我看不懂 DHH 的比率。我認為他指的是第一個反過來 (2:1)，我認為他指的是第二個 (1.5:1)。或者可能我只是太笨了。\n(3. You’re probably doing it wrong if testing is taking more than 1/3 of your time. You’re definitely doing it wrong if it’s taking up more than half. 如果測試佔用你超過 1/3 的時間，你可能做錯了。如果佔用你超過一半的時間，你肯定做錯了。 Agree. Testing should take none of your time. Writing tests, with TDD, requires negative time (i.e. it saves you a boatload) Every worthwhile test you don’t write costs you time. 同意。測試應該不佔用你任何時間。使用 TDD 編寫測試需要負時間（即它為你節省了很多）。每一個值得的測試，你不寫，都會花費你的時間。\n(4. Don’t test standard Active Record associations, validations, or scopes. 不要測試標準的 Active Record 關聯、驗證或範圍。 Agree. There’s generally no reason to test your framework; so long as you trust it. If you don’t trust it (and there are many frameworks out there that are not trustworthy) then writing some tests against the framework might be worthwhile. Consider it equivalent to “Incomming Inspection”. 同意。通常沒有理由測試你的框架；只要你信任它。如果你不信任它（並且有很多框架是不值得信任的），那麼針對框架編寫一些測試可能是有價值的。將其視為等同於“來料檢驗”。\n(5. Reserve integration testing for issues arising from the integration of separate elements (aka don’t integration test things that can be unit tested instead). 將整合測試保留給由獨立元素的整合引起的問題（也就是說，不要整合測試可以用單元測試代替的東西）。 Agree. Keep your tests focused. Don’t test through UIs. Don’t test through web servers. Test as close to the code as you can. 同意。保持你的測試重點。不要透過 UI 進行測試。不要透過 Web 伺服器進行測試。盡可能靠近程式碼進行測試。\n(6. Don’t use Cucumber unless you live in the magic kingdom of non-programmers-writing-tests (and send me a bottle of fairy dust if you’re there!) 除非你住在非程式設計師編寫測試的魔法王國（如果你在那裡，請寄給我一瓶仙塵！）否則不要使用 Cucumber。 Agree and Disagree. Cucumber (Gherkin) is worth it only if you have business people and/or QA who are willing to read your tests. If they will also write your acceptance tests then: ABSOLUTELY send that fairy dust far and wide; because it’s worth its weight in diamonds. 同意和不同意。只有當你有願意閱讀你的測試的業務人員和/或 QA 時，Cucumber (Gherkin) 才是值得的。如果他們也願意編寫你的驗收測試，那麼：絕對要廣泛傳播這種仙塵；因為它價值連城。\n(7. Don’t force yourself to test-first every controller, model, and view (my ratio is typically 20% test-first, 80% test-after). 不要強迫自己首先測試每個控制器、模型和視圖（我的比例通常是 20% 先測試，80% 後測試）。 Agree… Sort of. Some controllers, models, and views are too stupid to bother to test. If they are obviously correct, because they are one line of code, then testing them might be superfluous. But be careful. Sometimes one line of code has 20 lines of semantics. 同意……在某種程度上。有些控制器、模型和視圖太蠢了，不值得測試。如果它們顯然是正確的，因為它們只有一行程式碼，那麼測試它們可能是多餘的。但要小心。有時候一行程式碼有 20 行語義。\n*** It has been pointed out to me that the “TSA” post actually predates the “TDD is Dead” post by several years. Somehow or another I got the two backwards. (sigh).\n*** 有人向我指出，“TSA”文章實際上比“TDD 已死”文章早幾年。不知何故，我把這兩個文章搞反了。（嘆氣）。\n","wordCount":"588","inLanguage":"en","datePublished":"2025-03-13T23:57:10+08:00","dateModified":"2025-03-13T23:57:10+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://easylive1989.github.io/readings/backup/testing-like-the-tsa/"},"publisher":{"@type":"Organization","name":"Readings","logo":{"@type":"ImageObject","url":"https://easylive1989.github.io/readings/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://easylive1989.github.io/readings/ accesskey=h title="Readings (Alt + H)">Readings</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://easylive1989.github.io/readings/backup/ title=Backups><span>Backups</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Testing Like the TSA</h1><div class=post-meta><span title='2025-03-13 23:57:10 +0800 +0800'>March 13, 2025</span></div></header><div class=post-content><p><a href=https://blog.cleancoder.com/uncle-bob/2017/03/06/TestingLikeTheTSA.html>Source</a></p><p>I was very glad to read in DHH’s <a href=https://signalvnoise.com/posts/3159-testing-like-the-tsa>recent post</a> that he is actually still using TDD***. I’m glad he has realized that TDD is not, in fact, <a href=http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html>dead</a>.</p><p>我很高興在 DHH 最近的<a href="https://www.google.com/url?sa=E&amp;q=https%3A%2F%2Fsignalvnoise.com%2Fposts%2F3159-testing-like-the-tsa">文章</a>中讀到他實際上仍在使用 TDD***。我很高興他意識到 TDD 實際上並沒有<a href="https://www.google.com/url?sa=E&amp;q=http%3A%2F%2Fdavid.heinemeierhansson.com%2F2014%2Ftdd-is-dead-long-live-testing.html">死亡</a>。</p><p>This blog is a simple response; just to state a couple of disagreements. But I have to say, I agree more than I disagree.</p><p>這篇部落格只是一個簡單的回應；只是為了說明幾個不同意的地方。但我必須說，我同意的地方比不同意的地方還多。</p><p>DHH presented seven points. I have reproduced them below, along with my comments. And since DHH did not justify his opinions, I’ll not justify mine.</p><p>DHH 提出了七點。我將它們複製如下，以及我的評論。由於 DHH 沒有為他的觀點辯護，我也不會為我的辯護。</p><ul><li>(1. Don’t aim for 100% coverage. 不要以 100% 的覆蓋率為目標。</li></ul><blockquote><p><em>Disagree. Aim as high as you can. Treat 100% as an asymptotic goal. No other number makes a reasonable goal. There is never a reason to stop driving your coverage number higher.</em>
不同意。盡可能地以高為目標。將 100% 視為一個漸近線目標。沒有其他數字可以成為合理的目標。永遠沒有理由停止提高你的覆蓋率數字。</p></blockquote><ul><li>(2. Code-to-test ratios above 1:2 is a smell, above 1:3 is a stink. 程式碼與測試的比率高於 1:2 是一種氣味，高於 1:3 是一種惡臭。</li></ul><blockquote><p><em>Disagree. 1:1 LOC is about right. If you have 20K lines of code, you probably ought to have about 20K lines of tests. (BTW, I can’t make any sense of DHH’s ratios there. I think he meant the first one the other way around (2:1) and I think he meant the second one to be (1.5:1). Or maybe I’m just dense.</em>
不同意。 1:1 LOC 差不多是對的。如果你有 2 萬行程式碼，你可能應該有大約 2 萬行測試。（順便說一下，我看不懂 DHH 的比率。我認為他指的是第一個反過來 (2:1)，我認為他指的是第二個 (1.5:1)。或者可能我只是太笨了。</p></blockquote><ul><li>(3. You’re probably doing it wrong if testing is taking more than 1/3 of your time. You’re definitely doing it wrong if it’s taking up more than half. 如果測試佔用你超過 1/3 的時間，你可能做錯了。如果佔用你超過一半的時間，你肯定做錯了。</li></ul><blockquote><p><em>Agree. Testing should take none of your time. Writing tests, with TDD, requires negative time (i.e. it saves you a boatload) Every worthwhile test you don’t write costs you time.</em>
同意。測試應該不佔用你任何時間。使用 TDD 編寫測試需要負時間（即它為你節省了很多）。每一個值得的測試，你不寫，都會花費你的時間。</p></blockquote><ul><li>(4. Don’t test standard Active Record associations, validations, or scopes. 不要測試標準的 Active Record 關聯、驗證或範圍。</li></ul><blockquote><p><em>Agree. There’s generally no reason to test your framework; so long as you trust it. If you don’t trust it (and there are many frameworks out there that are not trustworthy) then writing some tests against the framework might be worthwhile. Consider it equivalent to “Incomming Inspection”.</em>
同意。通常沒有理由測試你的框架；只要你信任它。如果你不信任它（並且有很多框架是不值得信任的），那麼針對框架編寫一些測試可能是有價值的。將其視為等同於“來料檢驗”。</p></blockquote><ul><li>(5. Reserve integration testing for issues arising from the integration of separate elements (aka don’t integration test things that can be unit tested instead). 將整合測試保留給由獨立元素的整合引起的問題（也就是說，不要整合測試可以用單元測試代替的東西）。</li></ul><blockquote><p><em>Agree. Keep your tests focused. Don’t test through UIs. Don’t test through web servers. Test as close to the code as you can.</em>
同意。保持你的測試重點。不要透過 UI 進行測試。不要透過 Web 伺服器進行測試。盡可能靠近程式碼進行測試。</p></blockquote><ul><li>(6. Don’t use Cucumber unless you live in the magic kingdom of non-programmers-writing-tests (and send me a bottle of fairy dust if you’re there!) 除非你住在非程式設計師編寫測試的魔法王國（如果你在那裡，請寄給我一瓶仙塵！）否則不要使用 Cucumber。</li></ul><blockquote><p><em>Agree and Disagree. Cucumber (Gherkin) is worth it only if you have business people and/or QA who are willing to read your tests. If they will also write your acceptance tests then: ABSOLUTELY send that fairy dust far and wide; because it’s worth its weight in diamonds.</em>
同意和不同意。只有當你有願意閱讀你的測試的業務人員和/或 QA 時，Cucumber (Gherkin) 才是值得的。如果他們也願意編寫你的驗收測試，那麼：絕對要廣泛傳播這種仙塵；因為它價值連城。</p></blockquote><ul><li>(7. Don’t force yourself to test-first every controller, model, and view (my ratio is typically 20% test-first, 80% test-after). 不要強迫自己首先測試每個控制器、模型和視圖（我的比例通常是 20% 先測試，80% 後測試）。</li></ul><blockquote><p><em>Agree… Sort of. Some controllers, models, and views are too stupid to bother to test. If they are obviously correct, because they are one line of code, then testing them might be superfluous. But be careful. Sometimes one line of code has 20 lines of semantics.</em>
同意……在某種程度上。有些控制器、模型和視圖太蠢了，不值得測試。如果它們顯然是正確的，因為它們只有一行程式碼，那麼測試它們可能是多餘的。但要小心。有時候一行程式碼有 20 行語義。</p></blockquote><hr><p>*** It has been pointed out to me that the “TSA” post actually predates the “TDD is Dead” post by several years. Somehow or another I got the two backwards. (sigh).</p><p>*** 有人向我指出，“TSA”文章實際上比“TDD 已死”文章早幾年。不知何故，我把這兩個文章搞反了。（嘆氣）。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://easylive1989.github.io/readings/tags/uncle-bob/>Uncle Bob</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://easylive1989.github.io/readings/>Readings</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>